{"ast":null,"code":"import _toConsumableArray from\"F:/JS Projects/client/kannaku_sollu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"F:/JS Projects/client/kannaku_sollu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import Modal from\"./Modal\";import Form,{FormTitle,FormInputGroup,FormAction,Row,Col,FormInput}from\"./Form\";import Button from\"./Button\";import VariableExpressionInput from\"./VariableExpressionInput\";import{AppContext,reducerActTypes}from\"../context/AppProvider\";import\"./AddToBillModal.scss\";import calculateTotal from\"../functions/calculateTotal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddToBillModal=function AddToBillModal(_ref){var show=_ref.show,toggleShow=_ref.toggleShow;var _useContext=useContext(AppContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),prdExp=_useState2[0],setPrdExp=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1];var getMembersOptions=function getMembersOptions(){return(state===null||state===void 0?void 0:state.members).map(function(mem,index){return/*#__PURE__*/_jsx(\"option\",{value:index,children:\"\".concat(mem.memName)});});};var handelSubmit=function handelSubmit(){var newShareObj={memId:state.members[selectedIndex].id,memName:state.members[selectedIndex].memName,prodExp:prdExp,total:calculateTotal(prdExp,state.products)};var newShares=[].concat(_toConsumableArray(state.shares),[newShareObj]);dispatch({type:reducerActTypes.SET_SHARE,value:newShares});//reset\nsetPrdExp(\"\");setSelectedIndex(0);toggleShow(false);};return/*#__PURE__*/_jsx(Modal,{show:show,children:/*#__PURE__*/_jsx(\"div\",{className:\"add-to-bill-modal___container\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(FormTitle,{children:\"Add To Bill\"}),/*#__PURE__*/_jsxs(FormInputGroup,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormInput,{label:\"MEMBER\",component:/*#__PURE__*/_jsxs(\"select\",{value:selectedIndex,onChange:function onChange(e){setSelectedIndex(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:true,children:\"Select Member\"}),getMembersOptions()]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(FormInput,{label:\"PRODUCT EXPRESSION\",component:/*#__PURE__*/_jsx(VariableExpressionInput,{options:state.products.map(function(prd){return prd.icon;}),value:prdExp,onChange:setPrdExp})})})})]}),/*#__PURE__*/_jsxs(FormAction,{children:[/*#__PURE__*/_jsx(Button,{onClick:handelSubmit,name:\"Submit\",variant:\"solid\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return toggleShow(false);},name:\"Cancel\",variant:\"outlined\"})]})]})})});};export default AddToBillModal;","map":{"version":3,"sources":["F:/JS Projects/client/kannaku_sollu/src/component/AddToBillModal.js"],"names":["React","useContext","useState","Modal","Form","FormTitle","FormInputGroup","FormAction","Row","Col","FormInput","Button","VariableExpressionInput","AppContext","reducerActTypes","calculateTotal","AddToBillModal","show","toggleShow","state","dispatch","prdExp","setPrdExp","selectedIndex","setSelectedIndex","getMembersOptions","members","map","mem","index","memName","handelSubmit","newShareObj","memId","id","prodExp","total","products","newShares","shares","type","SET_SHARE","value","e","target","prd","icon"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport Form, {\r\n  FormTitle,\r\n  FormInputGroup,\r\n  FormAction,\r\n  Row,\r\n  Col,\r\n  FormInput,\r\n} from \"./Form\";\r\nimport Button from \"./Button\";\r\nimport VariableExpressionInput from \"./VariableExpressionInput\";\r\nimport { AppContext, reducerActTypes } from \"../context/AppProvider\";\r\nimport \"./AddToBillModal.scss\";\r\nimport calculateTotal from \"../functions/calculateTotal\";\r\n\r\nconst AddToBillModal = ({ show, toggleShow }) => {\r\n  const { state, dispatch } = useContext(AppContext);\r\n\r\n  const [prdExp, setPrdExp] = useState(\"\");\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n  const getMembersOptions = () => {\r\n    return (state?.members).map((mem, index) => {\r\n      return <option value={index}>{`${mem.memName}`}</option>;\r\n    });\r\n  };\r\n\r\n  const handelSubmit = () => {\r\n    const newShareObj = {\r\n      memId:state.members[selectedIndex].id,\r\n      memName: state.members[selectedIndex].memName,\r\n      prodExp: prdExp,\r\n      total: calculateTotal(prdExp, state.products),\r\n    };\r\n\r\n    const newShares = [...state.shares, newShareObj];\r\n\r\n    dispatch({ type: reducerActTypes.SET_SHARE, value: newShares });\r\n    //reset\r\n    setPrdExp(\"\");\r\n    setSelectedIndex(0);\r\n\r\n    toggleShow(false);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show}>\r\n      <div className=\"add-to-bill-modal___container\">\r\n        <Form>\r\n          <FormTitle>Add To Bill</FormTitle>\r\n          <FormInputGroup>\r\n            <Row>\r\n              <Col>\r\n                <FormInput\r\n                  label=\"MEMBER\"\r\n                  component={\r\n                    <select\r\n                      value={selectedIndex}\r\n                      onChange={(e) => {\r\n                        setSelectedIndex(e.target.value);\r\n                      }}\r\n                    >\r\n                      <option value=\"\" selected>\r\n                        Select Member\r\n                      </option>\r\n                      {getMembersOptions()}\r\n                    </select>\r\n                  }\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormInput\r\n                  label=\"PRODUCT EXPRESSION\"\r\n                  component={\r\n                    <VariableExpressionInput\r\n                      options={state.products.map((prd) => prd.icon)}\r\n                      value={prdExp}\r\n                      onChange={setPrdExp}\r\n                    />\r\n                  }\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </FormInputGroup>\r\n          <FormAction>\r\n            <Button onClick={handelSubmit} name={\"Submit\"} variant={\"solid\"} />\r\n            <Button\r\n              onClick={() => toggleShow(false)}\r\n              name={\"Cancel\"}\r\n              variant={\"outlined\"}\r\n            />\r\n          </FormAction>\r\n        </Form>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddToBillModal;\r\n"]},"metadata":{},"sourceType":"module"}