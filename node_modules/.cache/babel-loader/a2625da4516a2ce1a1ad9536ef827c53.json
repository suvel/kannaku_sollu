{"ast":null,"code":"import _slicedToArray from\"F:/JS Projects/client/kannaku_sollu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./Step4.scss\";import Button from\"./Button\";import React,{useContext,useState}from\"react\";import{AppContext}from\"../context/AppProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var generateBill=function generateBill(billName,bills,products){var curDate=new Date();var dateString=\"\".concat(curDate.getDate(),\"-\").concat(curDate.getMonth()+1,\"-\").concat(curDate.getFullYear());var getBillDetails=function getBillDetails(){var billString=\"\";var billTotal=0;bills.forEach(function(bill,index){billString=billString.concat(\"\\n            [\".concat(index+1,\"]\\n            \\n\\n             _Member Name_:\\t\").concat(bill.memName,\"\\n\\n             _Products_:\\t\").concat(bill.prodExp,\"\\n\\n             _Member total_:\\t\").concat(bill.total,\"\\n\\n            \\n\\n            \"));billTotal=billTotal+bill.total;});return{billString:billString,billTotal:billTotal};};var _getBillDetails=getBillDetails(),billString=_getBillDetails.billString,billTotal=_getBillDetails.billTotal;var getProductDictionary=function getProductDictionary(){var prdString=\"\";products.forEach(function(prd){prdString=prdString.concat(\" \\t[\".concat(prd.icon,\"]: \").concat(prd.prdName,\" - \").concat(prd.prdPrice,\"\\n\"));});return prdString;};return\"\".concat(billName,\"\\n\\n        date:\").concat(dateString,\"\\n\").concat(billString,\"\\n\\n        [Bill Total]\\n\\t\").concat(billTotal,\"\\n\\n        products dictionary:\\n\\n\").concat(getProductDictionary());};var Step4=function Step4(){var _useContext=useContext(AppContext),state=_useContext.state;var _useState=useState({name:state.billName,shares:state.shares,products:state.products}),_useState2=_slicedToArray(_useState,2),billDetail=_useState2[0],setBillDetail=_useState2[1];var handelReprint=function handelReprint(){setBillDetail({name:state.billName,shares:state.shares,products:state.products});};var handelCopyBill=function handelCopyBill(){var range=document.createRange();range.selectNode(document.getElementById(\"bill-text\"));window.getSelection().removeAllRanges();window.getSelection().addRange(range);document.execCommand(\"copy\");window.getSelection().removeAllRanges();alert(\"copied!\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"bill-print\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bill-print__action\",children:[/*#__PURE__*/_jsx(Button,{onClick:handelCopyBill,name:\"Copy\",variant:\"solid\"}),/*#__PURE__*/_jsx(Button,{onClick:handelReprint,name:\"Re-print\",variant:\"outlined\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"bill-text\",className:\"bill-pint__text\",children:generateBill(billDetail.name,billDetail.shares,billDetail.products)})]});};export default Step4;","map":{"version":3,"sources":["F:/JS Projects/client/kannaku_sollu/src/component/Step4.js"],"names":["Button","React","useContext","useState","AppContext","generateBill","billName","bills","products","curDate","Date","dateString","getDate","getMonth","getFullYear","getBillDetails","billString","billTotal","forEach","bill","index","concat","memName","prodExp","total","getProductDictionary","prdString","prd","icon","prdName","prdPrice","Step4","state","name","shares","billDetail","setBillDetail","handelReprint","handelCopyBill","range","document","createRange","selectNode","getElementById","window","getSelection","removeAllRanges","addRange","execCommand","alert"],"mappings":"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","sourcesContent":["import \"./Step4.scss\";\r\nimport Button from \"./Button\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { AppContext } from \"../context/AppProvider\";\r\n\r\nconst generateBill = (billName, bills, products) => {\r\n  const curDate = new Date();\r\n  const dateString = `${curDate.getDate()}-${\r\n    curDate.getMonth() + 1\r\n  }-${curDate.getFullYear()}`;\r\n\r\n  const getBillDetails = () => {\r\n    let billString = ``;\r\n    let billTotal = 0;\r\n    bills.forEach((bill, index) => {\r\n      billString = billString.concat(`\r\n            [${index + 1}]\r\n            \\n\r\n             _Member Name_:\\t${bill.memName}\\n\r\n             _Products_:\\t${bill.prodExp}\\n\r\n             _Member total_:\\t${bill.total}\\n\r\n            \\n\r\n            `);\r\n      billTotal = billTotal + bill.total;\r\n    });\r\n    return {\r\n      billString,\r\n      billTotal,\r\n    };\r\n  };\r\n\r\n  const { billString, billTotal } = getBillDetails();\r\n\r\n  const getProductDictionary = () => {\r\n    let prdString = ``;\r\n    products.forEach((prd) => {\r\n      prdString = prdString.concat(` \\t[${prd.icon}]: ${prd.prdName} - ${prd.prdPrice}\\n`);\r\n    });\r\n    return prdString;\r\n  };\r\n\r\n  return `${billName}\\n\r\n        date:${dateString}\\n${billString}\\n\r\n        [Bill Total]\\n\\t${billTotal}\\n\r\n        products dictionary:\\n\\n${getProductDictionary()}`;\r\n};\r\n\r\nconst Step4 = () => {\r\n  const { state } = useContext(AppContext);\r\n  const [billDetail, setBillDetail] = useState({\r\n    name: state.billName,\r\n    shares: state.shares,\r\n    products: state.products,\r\n  });\r\n\r\n  const handelReprint = () => {\r\n    setBillDetail({\r\n      name: state.billName,\r\n      shares: state.shares,\r\n      products: state.products,\r\n    });\r\n  };\r\n\r\n  const handelCopyBill = () => {\r\n    let range = document.createRange();\r\n    range.selectNode(document.getElementById(\"bill-text\"));\r\n    window.getSelection().removeAllRanges();\r\n    window.getSelection().addRange(range);\r\n    document.execCommand(\"copy\");\r\n    window.getSelection().removeAllRanges();\r\n    alert(\"copied!\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"bill-print\">\r\n      <div className=\"bill-print__action\">\r\n        <Button onClick={handelCopyBill} name={\"Copy\"} variant={\"solid\"} />\r\n        <Button\r\n          onClick={handelReprint}\r\n          name={\"Re-print\"}\r\n          variant={\"outlined\"}\r\n        />\r\n      </div>\r\n      <div id=\"bill-text\" className=\"bill-pint__text\">\r\n        {generateBill(billDetail.name, billDetail.shares, billDetail.products)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Step4;\r\n"]},"metadata":{},"sourceType":"module"}