{"ast":null,"code":"var _jsxFileName = \"F:\\\\JS Projects\\\\client\\\\kannaku_sollu\\\\src\\\\component\\\\AddToBillModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport Modal from './Modal';\nimport Form, { FormTitle, FormInputGroup, FormAction, Row, Col, FormInput } from './Form';\nimport Button from './Button';\nimport VariableExpressionInput from './VariableExpressionInput';\nimport { AppContext, reducerActTypes } from '../context/AppProvider';\nimport './AddToBillModal.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst calculateTotal = (expStr, products) => {\n  const items = expStr.split('+');\n  let sum = 0;\n  items.forEach(item => {\n    const [qty, prd] = item.split('x');\n    debugger;\n    const prdCost = products.find(product => product.icon == prd).prdPrice;\n    sum = sum + qty * prdCost;\n  });\n  return sum;\n};\n\nconst AddToBillModal = ({\n  show,\n  toggleShow\n}) => {\n  _s();\n\n  const {\n    state,\n    dispatch\n  } = useContext(AppContext);\n  const [prdExp, setPrdExp] = useState('');\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  const getMembersOptions = () => {\n    return (state === null || state === void 0 ? void 0 : state.members).map((mem, index) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: index,\n        children: `${mem.memName}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    });\n  };\n\n  const handelSubmit = () => {\n    const newShareObj = {\n      'memName': state.members[selectedIndex].memName,\n      'prodExp': prdExp,\n      'total': calculateTotal(prdExp, state.products)\n    };\n    const newShares = [...state.shares, newShareObj];\n    dispatch({\n      type: reducerActTypes.SET_SHARE,\n      value: newShares\n    }); //reset\n\n    setPrdExp('');\n    setSelectedIndex(0);\n    toggleShow(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-to-bill-modal___container\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(FormTitle, {\n          children: \"Add To Bill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(FormInput, {\n                label: \"MEMBER\",\n                component: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedIndex,\n                  onChange: e => {\n                    setSelectedIndex(e.target.value);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    selected: true,\n                    children: \"Select Member\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 45\n                  }, this), getMembersOptions()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(FormInput, {\n                label: \"PRODUCT EXPRESSION\",\n                component: /*#__PURE__*/_jsxDEV(VariableExpressionInput, {\n                  options: state.products.map(prd => prd.icon),\n                  value: prdExp,\n                  onChange: setPrdExp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormAction, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handelSubmit,\n            name: \"Submit\",\n            variant: \"solid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => toggleShow(false),\n            name: \"Cancel\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddToBillModal, \"UlyTS3UqzsiJzPNNohE6/UfIZm4=\");\n\n_c = AddToBillModal;\nexport default AddToBillModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToBillModal\");","map":{"version":3,"sources":["F:/JS Projects/client/kannaku_sollu/src/component/AddToBillModal.js"],"names":["React","useContext","useState","Modal","Form","FormTitle","FormInputGroup","FormAction","Row","Col","FormInput","Button","VariableExpressionInput","AppContext","reducerActTypes","calculateTotal","expStr","products","items","split","sum","forEach","item","qty","prd","prdCost","find","product","icon","prdPrice","AddToBillModal","show","toggleShow","state","dispatch","prdExp","setPrdExp","selectedIndex","setSelectedIndex","getMembersOptions","members","map","mem","index","memName","handelSubmit","newShareObj","newShares","shares","type","SET_SHARE","value","e","target"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,IACEC,SADF,EACaC,cADb,EAC6BC,UAD7B,EACyCC,GADzC,EAC8CC,GAD9C,EACmDC,SADnD,QACoE,QADpE;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,uBAAP,MAAoC,2BAApC;AACA,SAASC,UAAT,EAAqBC,eAArB,QAA4C,wBAA5C;AACA,OAAO,uBAAP;;;AAEA,MAAMC,cAAc,GAAG,CAACC,MAAD,EAASC,QAAT,KAAsB;AACzC,QAAMC,KAAK,GAAGF,MAAM,CAACG,KAAP,CAAa,GAAb,CAAd;AACA,MAAIC,GAAG,GAAG,CAAV;AAEAF,EAAAA,KAAK,CAACG,OAAN,CAAcC,IAAI,IAAI;AAClB,UAAM,CAACC,GAAD,EAAMC,GAAN,IAAaF,IAAI,CAACH,KAAL,CAAW,GAAX,CAAnB;AACA;AACA,UAAMM,OAAO,GAAGR,QAAQ,CAACS,IAAT,CAAcC,OAAO,IAAIA,OAAO,CAACC,IAAR,IAAgBJ,GAAzC,EAA8CK,QAA9D;AACAT,IAAAA,GAAG,GAAGA,GAAG,GAAGG,GAAG,GAAGE,OAAlB;AACH,GALD;AAOA,SAAOL,GAAP;AAEH,CAbD;;AAgBA,MAAMU,cAAc,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAA0B;AAAA;;AAE7C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBjC,UAAU,CAACY,UAAD,CAAtC;AAEA,QAAM,CAACsB,MAAD,EAASC,SAAT,IAAsBlC,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACmC,aAAD,EAAgBC,gBAAhB,IAAoCpC,QAAQ,CAAC,CAAD,CAAlD;;AAGA,QAAMqC,iBAAiB,GAAG,MAAM;AAC5B,WAAO,CAACN,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEO,OAAR,EAAiBC,GAAjB,CAAqB,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACxC,0BACI;AAAQ,QAAA,KAAK,EAAEA,KAAf;AAAA,kBACM,GAAED,GAAG,CAACE,OAAQ;AADpB;AAAA;AAAA;AAAA;AAAA,cADJ;AAIH,KALM,CAAP;AAMH,GAPD;;AASA,QAAMC,YAAY,GAAG,MAAM;AACvB,UAAMC,WAAW,GAAG;AAChB,iBAAWb,KAAK,CAACO,OAAN,CAAcH,aAAd,EAA6BO,OADxB;AAEhB,iBAAWT,MAFK;AAGhB,eAASpB,cAAc,CAACoB,MAAD,EAASF,KAAK,CAAChB,QAAf;AAHP,KAApB;AAMA,UAAM8B,SAAS,GAAG,CAAC,GAAGd,KAAK,CAACe,MAAV,EAAkBF,WAAlB,CAAlB;AAEAZ,IAAAA,QAAQ,CAAC;AAAEe,MAAAA,IAAI,EAAEnC,eAAe,CAACoC,SAAxB;AAAmCC,MAAAA,KAAK,EAAEJ;AAA1C,KAAD,CAAR,CATuB,CAUvB;;AACAX,IAAAA,SAAS,CAAC,EAAD,CAAT;AACAE,IAAAA,gBAAgB,CAAC,CAAD,CAAhB;AAEAN,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAfD;;AAiBA,sBACI,QAAC,KAAD;AAAO,IAAA,IAAI,EAAED,IAAb;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA,6BACI,QAAC,IAAD;AAAA,gCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,cAAD;AAAA,kCACI,QAAC,GAAD;AAAA,mCACI,QAAC,GAAD;AAAA,qCACI,QAAC,SAAD;AACI,gBAAA,KAAK,EAAC,QADV;AAEI,gBAAA,SAAS,eACL;AACI,kBAAA,KAAK,EAAEM,aADX;AAEI,kBAAA,QAAQ,EAAGe,CAAD,IAAO;AACbd,oBAAAA,gBAAgB,CAACc,CAAC,CAACC,MAAF,CAASF,KAAV,CAAhB;AACH,mBAJL;AAAA,0CAMI;AAAQ,oBAAA,KAAK,EAAC,EAAd;AAAiB,oBAAA,QAAQ,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ,EAQQZ,iBAAiB,EARzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAoBI,QAAC,GAAD;AAAA,mCACI,QAAC,GAAD;AAAA,qCACI,QAAC,SAAD;AACI,gBAAA,KAAK,EAAC,oBADV;AAEI,gBAAA,SAAS,eACL,QAAC,uBAAD;AACI,kBAAA,OAAO,EAAEN,KAAK,CAAChB,QAAN,CAAewB,GAAf,CAAmBjB,GAAG,IAAIA,GAAG,CAACI,IAA9B,CADb;AAEI,kBAAA,KAAK,EAAEO,MAFX;AAGI,kBAAA,QAAQ,EAAEC;AAHd;AAAA;AAAA;AAAA;AAAA;AAHR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBApBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAsCI,QAAC,UAAD;AAAA,kCACI,QAAC,MAAD;AACI,YAAA,OAAO,EAAES,YADb;AAEI,YAAA,IAAI,EAAE,QAFV;AAGI,YAAA,OAAO,EAAE;AAHb;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI,QAAC,MAAD;AACI,YAAA,OAAO,EAAE,MAAMb,UAAU,CAAC,KAAD,CAD7B;AAEI,YAAA,IAAI,EAAE,QAFV;AAGI,YAAA,OAAO,EAAE;AAHb;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAwDH,CA1FD;;GAAMF,c;;KAAAA,c;AA4FN,eAAeA,cAAf","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport Modal from './Modal'\r\nimport Form,\r\n{ FormTitle, FormInputGroup, FormAction, Row, Col, FormInput } from './Form'\r\nimport Button from './Button'\r\nimport VariableExpressionInput from './VariableExpressionInput'\r\nimport { AppContext, reducerActTypes } from '../context/AppProvider'\r\nimport './AddToBillModal.scss'\r\n\r\nconst calculateTotal = (expStr, products) => {\r\n    const items = expStr.split('+');\r\n    let sum = 0;\r\n\r\n    items.forEach(item => {\r\n        const [qty, prd] = item.split('x');\r\n        debugger\r\n        const prdCost = products.find(product => product.icon == prd).prdPrice;\r\n        sum = sum + qty * prdCost;\r\n    })\r\n\r\n    return sum;\r\n\r\n}\r\n\r\n\r\nconst AddToBillModal = ({ show, toggleShow }) => {\r\n\r\n    const { state, dispatch } = useContext(AppContext)\r\n\r\n    const [prdExp, setPrdExp] = useState('');\r\n    const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n\r\n    const getMembersOptions = () => {\r\n        return (state?.members).map((mem, index) => {\r\n            return (\r\n                <option value={index}>\r\n                    {`${mem.memName}`}\r\n                </option>)\r\n        })\r\n    }\r\n\r\n    const handelSubmit = () => {\r\n        const newShareObj = {\r\n            'memName': state.members[selectedIndex].memName,\r\n            'prodExp': prdExp,\r\n            'total': calculateTotal(prdExp, state.products)\r\n        }\r\n\r\n        const newShares = [...state.shares, newShareObj]\r\n\r\n        dispatch({ type: reducerActTypes.SET_SHARE, value: newShares })\r\n        //reset\r\n        setPrdExp('');\r\n        setSelectedIndex(0);\r\n\r\n        toggleShow(false)\r\n    }\r\n\r\n    return (\r\n        <Modal show={show}>\r\n            <div className='add-to-bill-modal___container'>\r\n                <Form>\r\n                    <FormTitle>\r\n                        Add To Bill\r\n                    </FormTitle>\r\n                    <FormInputGroup>\r\n                        <Row>\r\n                            <Col>\r\n                                <FormInput\r\n                                    label='MEMBER'\r\n                                    component={\r\n                                        <select\r\n                                            value={selectedIndex}\r\n                                            onChange={(e) => {\r\n                                                setSelectedIndex(e.target.value)\r\n                                            }}\r\n                                        >\r\n                                            <option value='' selected>Select Member</option>\r\n                                            {\r\n                                                getMembersOptions()\r\n                                            }\r\n                                        </select>\r\n                                    } />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <FormInput\r\n                                    label='PRODUCT EXPRESSION'\r\n                                    component={\r\n                                        <VariableExpressionInput\r\n                                            options={state.products.map(prd => prd.icon)}\r\n                                            value={prdExp}\r\n                                            onChange={setPrdExp}\r\n                                        />\r\n                                    } />\r\n                            </Col>\r\n                        </Row>\r\n                    </FormInputGroup>\r\n                    <FormAction>\r\n                        <Button\r\n                            onClick={handelSubmit}\r\n                            name={\"Submit\"}\r\n                            variant={\"solid\"} />\r\n                        <Button\r\n                            onClick={() => toggleShow(false)}\r\n                            name={\"Cancel\"}\r\n                            variant={\"outlined\"}\r\n                        />\r\n                    </FormAction>\r\n                </Form>\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default AddToBillModal\r\n"]},"metadata":{},"sourceType":"module"}